{"id":"bd-13a","title":"PRM-PRO-0021: release workflow parity with rvl","description":"Bring profile release automation to rvl-level standards (tag-driven GitHub Release + artifacts).\n\n## Acceptance Criteria\n\nMirror rvl's release.yml exactly, substituting `rvl` → `profile` for binary/archive names:\n\n1. **5-target build matrix** (fail-fast: false):\n   - x86_64-unknown-linux-gnu (ubuntu-latest, cargo)\n   - aarch64-unknown-linux-gnu (ubuntu-latest, cross)\n   - x86_64-apple-darwin (macos-15-intel, cargo)\n   - aarch64-apple-darwin (macos-14, cargo)\n   - x86_64-pc-windows-msvc (windows-latest, cargo)\n2. **Version extraction** from Cargo.toml via python3 tomllib (not grep).\n3. **Binary stripping** per-platform (strip, strip -x, aarch64-linux-gnu-strip).\n4. **Archive packaging**: tar.gz (unix), zip (windows). Named `profile-{version}-{target}.{ext}`.\n5. **SHA256SUMS** generated from all archives with `sha256sum`.\n6. **Cosign signing** of SHA256SUMS (sigstore/cosign-installer@v3, keyless `sign-blob --yes`).\n7. **SBOM generation** via cargo-cyclonedx (JSON CycloneDX format → `sbom.cdx.json`).\n8. **SLSA provenance** statement (in-toto Statement/v1, slsa.dev/provenance/v1) → `provenance.intoto.jsonl`.\n9. **Tag creation** if missing (auto-tag from version, push to origin).\n10. **Release upload** via softprops/action-gh-release@v2 with all artifacts.\n11. **Trigger**: workflow_dispatch + push to main when Cargo.toml changes.\n\n## Notes\n- Use rvl's release.yml as the literal template — copy and adapt, don't reinvent.\n- Homebrew tap update is tracked separately in bd-5q4.\n- Keep implementation consistent with rvl/shape/lock conventions where possible.\n\n## Reference\n- Source template: `rvl/.github/workflows/release.yml`","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-02-25T04:38:11.606702Z","created_by":"zac","updated_at":"2026-02-27T03:55:38.056935Z","closed_at":"2026-02-27T03:55:38.056829Z","close_reason":"Added rvl-parity release workflow for profile artifacts with required matrix/signing/provenance/release upload flow per PRM-PRO-0021.","compaction_level":0,"original_size":0,"labels":["ci","phase-0","profile","release"],"comments":[{"id":22,"issue_id":"bd-13a","author":"Zac","text":"RESERVATIONS: .github/workflows/release.yml. PHASE: 0 (no deps). Independent of code beads.","created_at":"2026-02-26T12:26:16Z"},{"id":71,"issue_id":"bd-13a","author":"Zac","text":"Starting implementation: copy rvl release workflow template, adapt binary/archive naming to profile, keep 5-target matrix + version read via tomllib + strip/pack/sign/sbom/provenance + tag creation + release upload; leave Homebrew updates for bd-5q4.","created_at":"2026-02-27T03:54:32Z"},{"id":72,"issue_id":"bd-13a","author":"Zac","text":"Implemented .github/workflows/release.yml using rvl release template adapted to profile naming: 5-target matrix, version extraction via python3 tomllib, per-platform strip, tar.gz/zip packaging as profile-{version}-{target}, SHA256SUMS generation, cosign keyless signing, cargo-cyclonedx SBOM, SLSA provenance statement, auto-tag if missing, and softprops/action-gh-release upload. Trigger set to workflow_dispatch + push(main) on Cargo.toml changes. Homebrew update intentionally left to bd-5q4.","created_at":"2026-02-27T03:55:38Z"}]}
{"id":"bd-1cb","title":"PRM-PRO-0020: push/pull data-fabric wrappers","description":"Implement deferred network subcommands `profile push` / `profile pull` as thin data-fabric wrappers.\n\n## Acceptance Criteria\n- push publishes frozen profile payload and reports success/failure deterministically.\n- pull fetches profile by ID and writes to output directory with validation.\n- Transport and server errors map to refusal envelopes (exit 2).\n\n## Notes\nDeferred scope; avoid blocking v0.1 local profile workflows.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-25T04:25:01.745146Z","created_by":"zac","updated_at":"2026-02-27T04:41:49.312065Z","closed_at":"2026-02-27T04:41:49.311963Z","close_reason":"Completed: push/pull wrappers implemented with refusal mapping and test coverage.","compaction_level":0,"original_size":0,"labels":["deferred","network","phase-2","profile"],"dependencies":[{"issue_id":"bd-1cb","depends_on_id":"bd-1r7","type":"blocks","created_at":"2026-02-25T04:44:56.658434Z","created_by":"zac"},{"issue_id":"bd-1cb","depends_on_id":"bd-2va","type":"blocks","created_at":"2026-02-25T04:25:03.461170Z","created_by":"zac"},{"issue_id":"bd-1cb","depends_on_id":"bd-qzc","type":"blocks","created_at":"2026-02-25T04:44:56.610738Z","created_by":"zac"}],"comments":[{"id":45,"issue_id":"bd-1cb","author":"Zac","text":"RESERVATIONS: src/network/push.rs, src/network/pull.rs, src/network/mod.rs. PHASE: 5 (P2, after bd-2va + bd-1r7 + bd-qzc). Deferred.","created_at":"2026-02-26T12:27:23Z"},{"id":99,"issue_id":"bd-1cb","author":"Zac","text":"Starting PRM-PRO-0020: implementing push/pull wrappers over data-fabric with pass-through options and exit/JSON parity.","created_at":"2026-02-27T04:34:43Z"},{"id":100,"issue_id":"bd-1cb","author":"Zac","text":"Implemented push/pull network wrappers with CLI wiring: added push/pull args + dispatch, network transport/config helpers (EPISTEMIC_FABRIC_URL or ~/.epistemic/config.toml), push frozen-profile validation and AddProfileArtifact POST /execute, pull GET /query/profile/{id} with fetched-profile validation and out-dir write. Added integration tests in tests/push_pull.rs using local mock HTTP server. Validation: cargo fmt --check; cargo clippy --all-targets -- -D warnings; cargo test.","created_at":"2026-02-27T04:41:49Z"}]}
{"id":"bd-1g5","title":"PRM-PRO-0009: lint against dataset","description":"Implement `profile lint <PROFILE> --against <DATASET>` profile-vs-dataset checks.\n\n## Acceptance Criteria\n- Verifies referenced include_columns and key columns exist in dataset header.\n- Returns exit 1 (ISSUES_FOUND) for lint findings and exit 0 when clean.\n- Dataset parse failures/refusals use structured refusal envelopes (exit 2).\n\n## Notes\nCombines validate + dataset-aware checks.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-02-25T04:25:01.173318Z","created_by":"zac","updated_at":"2026-02-27T04:09:24.366109Z","closed_at":"2026-02-27T04:09:24.365901Z","close_reason":"Completed lint dataset checks with deterministic findings and issues exit semantics","compaction_level":0,"original_size":0,"labels":["csv","lint","phase-2","profile"],"dependencies":[{"issue_id":"bd-1g5","depends_on_id":"bd-1r7","type":"blocks","created_at":"2026-02-25T04:25:02.257381Z","created_by":"zac"},{"issue_id":"bd-1g5","depends_on_id":"bd-e5g","type":"blocks","created_at":"2026-02-25T04:25:02.210025Z","created_by":"zac"}],"comments":[{"id":38,"issue_id":"bd-1g5","author":"Zac","text":"RESERVATIONS: src/lint/lint.rs, src/lint/mod.rs. PHASE: 3 (after bd-e5g). Creates lint module.","created_at":"2026-02-26T12:26:51Z"},{"id":54,"issue_id":"bd-1g5","author":"Zac","text":"PRM-0011 REVISION: Moved from phase-3 to phase-2. No longer depends on bd-2fp.","created_at":"2026-02-26T12:38:54Z"},{"id":84,"issue_id":"bd-1g5","author":"Zac","text":"Implemented src/lint/lint.rs: profile file IO + schema validation, dataset header parsing, deterministic findings for missing include_columns (kind=missing_column) and missing key columns (kind=missing_key), and structured refusals for E_IO/E_CSV_PARSE/E_EMPTY. Also fixed output exit mapping so lint findings now return ISSUES_FOUND/exit 1 in both human and --json modes. Verified with cargo fmt/clippy/test and manual lint smoke (exit 1 with issues).","created_at":"2026-02-27T04:09:24Z"}]}
{"id":"bd-1ha","title":"PRM-PRO-0023: AGENTS.md + swarm coordination contract","description":"Create/upgrade AGENTS.md in profile with explicit multi-agent operating rules aligned to project standards.\\n\\n## Acceptance Criteria\\n- Includes read-rules-first kickoff, br workflow, and no-communication-purgatory guidance.\\n- Includes reservation rule: reserve only specific files, never broad globs/directories.\\n- Includes guidance for handling expected local changes from other agents without panic/revert.\\n\\n## Notes\\nThis bead is documentation/process only; no runtime behavior changes.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-25T04:38:11.709326Z","created_by":"zac","updated_at":"2026-02-26T12:43:29.907513Z","closed_at":"2026-02-26T12:43:29.907421Z","close_reason":"AGENTS.md created with profile-specific content: output contract, decoupled architecture, core invariants, file reservation rules, phase labels, multi-agent coordination. Modeled on lock AGENTS.md style.","compaction_level":0,"original_size":0,"labels":["docs","phase-0","profile","swarm"],"comments":[{"id":24,"issue_id":"bd-1ha","author":"Zac","text":"RESERVATIONS: AGENTS.md. PHASE: 0 (no deps). Documentation only.","created_at":"2026-02-26T12:26:16Z"}]}
{"id":"bd-1r7","title":"PRM-PRO-0003: Refusal system + codes","description":"Implement refusal system and envelope output for profile.v0.\n\n## Acceptance Criteria\n- Refusal codes implemented: E_INVALID_SCHEMA, E_MISSING_FIELD, E_BAD_VERSION, E_ALREADY_FROZEN, E_IO, E_CSV_PARSE, E_EMPTY, E_COLUMN_NOT_FOUND.\n- Per-code detail payloads match plan contract.\n- Refusal envelope emitted on stdout with exit code 2.\n\n## Notes\nNon-goal: command-specific business logic beyond mapping errors to refusal payloads.","status":"in_progress","priority":1,"issue_type":"feature","created_at":"2026-02-25T04:25:00.864075Z","created_by":"zac","updated_at":"2026-02-27T11:54:57.012343Z","close_reason":"All acceptance criteria completed: 8 refusal codes with structured detail payloads matching plan contract, proper error handling integration with schema validation. Unblocks 14 Phase 1 beads.","compaction_level":0,"original_size":0,"labels":["core","phase-0","profile","refusal"],"comments":[{"id":2,"issue_id":"bd-1r7","author":"Zac","text":"PRM-0004 plan review: refusal envelope is now part of the unified output envelope (PRM-PRO-0029). Refusal detail (code, message, detail, next_command) moves into the envelope result field with outcome=REFUSAL. Without --json, refusals print as human-readable error messages to stderr with code in brackets, e.g. [E_COLUMN_NOT_FOUND].","created_at":"2026-02-26T11:54:43Z"},{"id":20,"issue_id":"bd-1r7","author":"Zac","text":"RESERVATIONS: src/refusal/codes.rs, src/refusal/payload.rs, src/refusal/mod.rs. PHASE: 0 (no deps). Critical path, blocks 14 beads.","created_at":"2026-02-26T12:26:12Z"},{"id":63,"issue_id":"bd-1r7","author":"Zac","text":"PRM-0011 REVISION: Renamed from 'Refusal system + envelope' to 'Refusal system + codes'. Clarifies boundary: this bead implements refusal codes and detail schemas; bd-2fp implements the outer output envelope.","created_at":"2026-02-26T12:38:55Z"}]}
{"id":"bd-1x2","title":"PRM-PRO-0005: stats command implementation","description":"Implement `profile stats <DATASET>` deterministic structural stats for CSV.\n\n## Acceptance Criteria\n- Reports column counts, null rates, and key viability in deterministic column order.\n- Supports human and --json output.\n- CSV parse/empty-data failures map to refusal codes.\n\n## Notes\nCore analysis primitive used by suggest-key and lint diagnostics.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-02-25T04:25:00.966791Z","created_by":"zac","updated_at":"2026-02-27T04:03:50.362190Z","closed_at":"2026-02-27T04:03:50.362020Z","close_reason":"Completed deterministic stats command with profile-scoped validation and refusal mapping","compaction_level":0,"original_size":0,"labels":["csv","phase-1","profile","stats"],"dependencies":[{"issue_id":"bd-1x2","depends_on_id":"bd-1r7","type":"blocks","created_at":"2026-02-25T04:43:46.574083Z","created_by":"zac"},{"issue_id":"bd-1x2","depends_on_id":"bd-er7","type":"blocks","created_at":"2026-02-25T04:43:46.523484Z","created_by":"zac"},{"issue_id":"bd-1x2","depends_on_id":"bd-qzc","type":"blocks","created_at":"2026-02-25T04:25:01.894161Z","created_by":"zac"}],"comments":[{"id":8,"issue_id":"bd-1x2","author":"Zac","text":"PRM-0004 plan review: stats --profile must schema-validate the profile YAML (same checks as validate steps b-d) before checking column existence. Refusal set includes E_IO / E_INVALID_SCHEMA / E_MISSING_FIELD from profile validation, plus E_COLUMN_NOT_FOUND for missing columns.","created_at":"2026-02-26T11:55:15Z"},{"id":35,"issue_id":"bd-1x2","author":"Zac","text":"RESERVATIONS: src/stats/stats.rs, src/stats/mod.rs. PHASE: 2 (after bd-2fp). COORDINATION: creates src/stats/mod.rs. bd-2np (suggest-key) will append to it.","created_at":"2026-02-26T12:26:42Z"},{"id":53,"issue_id":"bd-1x2","author":"Zac","text":"PRM-0011 REVISION: Moved from phase-2 to phase-1. No longer depends on bd-2fp (envelope). RESERVATIONS: src/stats/stats.rs only (mod.rs pre-created by scaffold).","created_at":"2026-02-26T12:38:45Z"},{"id":81,"issue_id":"bd-1x2","author":"Zac","text":"Implemented src/stats/stats.rs: CSV reader with deterministic header-order stats, row_count/column_count/columns[{name,null_rate,uniqueness,key_viable,example}], E_IO/E_CSV_PARSE/E_EMPTY mapping, optional --profile schema validation + include_columns scoping, and E_COLUMN_NOT_FOUND when scoped columns are absent. Verified via cargo fmt/clippy/test plus manual CLI smoke tests (success and refusal paths).","created_at":"2026-02-27T04:03:50Z"}]}
{"id":"bd-21t","title":"PRM-PRO-0014: witness append policy","description":"Implement ambient witness append behavior for eligible subcommands + --no-witness.\n\n## Acceptance Criteria\n- Witness records are appended for freeze/validate/lint/stats/suggest-key only.\n- `--no-witness` suppresses witness writes without changing domain exit semantics.\n- output_hash/input metadata follow plan rules per subcommand class.\n\n## Notes\nlist/show/diff/draft/push/pull should not emit witness records in v0.1.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-02-25T04:25:01.430112Z","created_by":"zac","updated_at":"2026-02-27T04:17:59.228831Z","closed_at":"2026-02-27T04:17:59.228628Z","close_reason":"Completed witness append policy with no-witness suppression and metadata hashing","compaction_level":0,"original_size":0,"labels":["phase-1","profile","spine","witness"],"dependencies":[{"issue_id":"bd-21t","depends_on_id":"bd-1r7","type":"blocks","created_at":"2026-02-25T04:25:02.634252Z","created_by":"zac"},{"issue_id":"bd-21t","depends_on_id":"bd-qzc","type":"blocks","created_at":"2026-02-25T04:25:02.587102Z","created_by":"zac"}],"comments":[{"id":12,"issue_id":"bd-21t","author":"Zac","text":"PRM-0004 plan review: output_hash for report subcommands (stats, suggest-key, lint, validate) is BLAKE3 of the JSON representation regardless of whether --json was passed — ensures witness hash is stable and independent of output format. Ledger location: ~/.epistemic/witness.jsonl (append-only, hash chain via prev field). If witness append fails after primary operation succeeds, warn on stderr but do not change exit code.","created_at":"2026-02-26T11:55:39Z"},{"id":28,"issue_id":"bd-21t","author":"Zac","text":"RESERVATIONS: src/witness/record.rs, src/witness/ledger.rs, src/witness/mod.rs. PHASE: 1 (after bd-1r7 + bd-qzc). Creates witness module.","created_at":"2026-02-26T12:26:28Z"},{"id":87,"issue_id":"bd-21t","author":"Zac","text":"Implemented ambient witness append pipeline: src/witness/append.rs now appends only for freeze/validate/lint/stats/suggest-key, respects --no-witness, computes output_hash via BLAKE3 (report subcommands hash JSON result; freeze hashes emitted artifact bytes), and degrades to stderr warnings on append failures without changing command outcome. Added src/witness/record.rs witness.v0-style builder and src/witness/ledger.rs append + prev-id chain support at ~/.epistemic/witness.jsonl. Wired eligible handlers (freeze, validate, lint, stats, suggest-key) to call append_for_command with subcommand-specific inputs/params metadata. Verified with cargo fmt/clippy/test and manual HOME-isolated smoke tests (append on eligible commands, no append on list, suppression via --no-witness, lint issues -> outcome ISSUES_FOUND exit_code 1 in witness record).","created_at":"2026-02-27T04:17:59Z"}]}
{"id":"bd-25t","title":"PRM-PRO-0019: --schema output","description":"Implement `--schema` output for profile YAML schema (deferred scope).\n\n## Acceptance Criteria\n- `--schema` prints valid JSON Schema and exits 0 before input validation.\n- Schema captures draft and frozen variants with required/optional fields.\n- Regression test validates schema structure and key constraints.\n\n## Notes\nDeferred but useful parallel lane for swarm.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-25T04:25:01.691763Z","created_by":"zac","updated_at":"2026-02-27T04:15:42.841008Z","closed_at":"2026-02-27T04:15:42.840812Z","close_reason":"Schema output implemented: generates complete JSON Schema for profile YAML format, supports both human and JSON envelope output, includes all validation constraints and conditional requirements for draft vs frozen profiles","compaction_level":0,"original_size":0,"labels":["deferred","phase-1","profile","schema"],"dependencies":[{"issue_id":"bd-25t","depends_on_id":"bd-er7","type":"blocks","created_at":"2026-02-25T04:25:03.413896Z","created_by":"zac"},{"issue_id":"bd-25t","depends_on_id":"bd-qzc","type":"blocks","created_at":"2026-02-25T04:44:56.567259Z","created_by":"zac"}],"comments":[{"id":30,"issue_id":"bd-25t","author":"Zac","text":"RESERVATIONS: src/output/schema.rs (new file). PHASE: 1 (after bd-er7 + bd-qzc). P2 bead, low priority.","created_at":"2026-02-26T12:26:28Z"}]}
{"id":"bd-29e","title":"PRM-PRO-0024: README parity with rvl style","description":"Upgrade README to rvl-level usability: friendly purpose-first intro, quickstart, real examples, and technical reference.\\n\\n## Acceptance Criteria\\n- Top section clearly answers what/why/how with one copy-paste quickstart.\\n- Includes at least one draft-to-freeze real workflow example and expected outputs.\\n- Technical depth (flags, refusals, witness behavior) is organized in lower sections.\\n\\n## Notes\\nKeep concise but complete for first-time and advanced users.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-25T04:38:11.761237Z","created_by":"zac","updated_at":"2026-02-27T03:49:05.964787Z","closed_at":"2026-02-27T03:49:05.964664Z","close_reason":"README updated to meet PRM-PRO-0024 acceptance criteria (purpose-first top section, copy-paste quickstart, draft-to-freeze example with expected outputs, organized flags/refusal/witness reference).","compaction_level":0,"original_size":0,"labels":["docs","phase-0","profile","readme"],"comments":[{"id":25,"issue_id":"bd-29e","author":"Zac","text":"RESERVATIONS: README.md. PHASE: 0 (no deps). Documentation only.","created_at":"2026-02-26T12:26:16Z"},{"id":64,"issue_id":"bd-29e","author":"Zac","text":"Starting now: audited AGENTS/README/PLAN; updating README for rvl-style parity with clearer quickstart + reorganized technical reference.","created_at":"2026-02-27T03:47:29Z"},{"id":65,"issue_id":"bd-29e","author":"Zac","text":"Completed README parity pass: added What/Why/How opener, copy-paste quickstart, draft→freeze workflow with expected outputs, and lower-section operational contract for flags/exit codes/refusals/witness semantics. Also corrected freeze examples to include --family/--version/--out and replaced outdated limitation about diffing.","created_at":"2026-02-27T03:49:05Z"}]}
{"id":"bd-29f","title":"PRM-PRO-0026: stats/suggest/freeze test suites","description":"Implement focused tests for stats, suggest-key, and freeze deterministic behavior.\n\n## Acceptance Criteria\n- stats/suggest-key outputs and ranking tie-breaks are deterministic.\n- freeze canonicalization/default-fill/hash behavior is validated with golden assertions.\n- Exit contract 0/2 and refusal payloads are asserted for parse/empty/version/frozen errors.\n\n## Notes\nWitness append behavior remains in witness-focused bead.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-25T04:41:27.916264Z","created_by":"zac","updated_at":"2026-02-27T04:32:24.696702Z","closed_at":"2026-02-27T04:32:24.696545Z","close_reason":"Completed: stats/suggest-key/freeze integration tests with full quality gate passing.","compaction_level":0,"original_size":0,"labels":["coverage","phase-2","profile","tests"],"dependencies":[{"issue_id":"bd-29f","depends_on_id":"bd-1r7","type":"blocks","created_at":"2026-02-25T04:41:36.923630Z","created_by":"zac"},{"issue_id":"bd-29f","depends_on_id":"bd-1x2","type":"blocks","created_at":"2026-02-25T04:41:36.729818Z","created_by":"zac"},{"issue_id":"bd-29f","depends_on_id":"bd-2fp","type":"blocks","created_at":"2026-02-26T12:37:20.575750Z","created_by":"zac"},{"issue_id":"bd-29f","depends_on_id":"bd-2np","type":"blocks","created_at":"2026-02-25T04:41:36.778012Z","created_by":"zac"},{"issue_id":"bd-29f","depends_on_id":"bd-2va","type":"blocks","created_at":"2026-02-25T04:41:36.825852Z","created_by":"zac"},{"issue_id":"bd-29f","depends_on_id":"bd-3mb","type":"blocks","created_at":"2026-02-25T04:41:36.874943Z","created_by":"zac"}],"comments":[{"id":15,"issue_id":"bd-29f","author":"Zac","text":"PRM-0004 plan review: suggest-key tiebreaker is column position in header. Viability threshold for --key auto: uniqueness >= 0.95, null_rate = 0.0. freeze --out refuses overwrite of existing files. All --json assertions should verify unified output envelope shape (PRM-PRO-0029).","created_at":"2026-02-26T11:56:06Z"},{"id":42,"issue_id":"bd-29f","author":"Zac","text":"RESERVATIONS: tests/stats.rs, tests/suggest_key.rs, tests/freeze.rs. PHASE: 4 (after bd-2va + bd-2np + bd-1x2 + bd-3mb). Test-only, no src/ changes.","created_at":"2026-02-26T12:27:16Z"},{"id":57,"issue_id":"bd-29f","author":"Zac","text":"PRM-0011 REVISION: Moved from phase-4 to phase-2. Added bd-2fp dep for --json envelope assertions. All impl deps now phase-1.","created_at":"2026-02-26T12:38:54Z"},{"id":95,"issue_id":"bd-29f","author":"Zac","text":"Starting PRM-PRO-0026: adding stats/suggest-key/freeze integration test suites and asserting deterministic output + refusal/issue contracts.","created_at":"2026-02-27T04:29:30Z"},{"id":96,"issue_id":"bd-29f","author":"Zac","text":"Completed stats/suggest-key/freeze suites: added tests/stats.rs, tests/suggest_key.rs, tests/freeze.rs covering deterministic outputs/ranking tie-breaks, freeze golden hash/default-fill, and refusal contracts (E_CSV_PARSE/E_EMPTY/E_BAD_VERSION/E_ALREADY_FROZEN/E_IO). Validation: cargo fmt --check; cargo clippy --all-targets -- -D warnings; cargo test.","created_at":"2026-02-27T04:32:24Z"}]}
{"id":"bd-2fp","title":"PRM-PRO-0029: unified output envelope","description":"Implement the unified output envelope and output formatting layer for all --json responses.\n\n## Acceptance Criteria\n- Every --json subcommand wraps output in the envelope: { version, outcome, exit_code, subcommand, result, profile_ref, witness_id }.\n- outcome is always SUCCESS, ISSUES_FOUND, or REFUSAL -- maps 1:1 with exit codes 0, 1, 2.\n- result field contains per-subcommand payload with defined shapes (validate, lint, stats, suggest-key, freeze, list, show, diff).\n- Refusals use the same envelope with outcome=REFUSAL and refusal detail in result.\n- profile_ref populated when a profile was consumed; null otherwise.\n- witness_id links to witness record when written; null if --no-witness or non-witnessed subcommand.\n- Human output (without --json) formatting implemented in src/output/human.rs.\n- Output layer consumes serde_json::Value from subcommand handlers -- subcommand beads are decoupled from envelope formatting.\n\n## Notes\nRuns in parallel with Phase 1 subcommand beads. Subcommand handlers return Result<Value, RefusalPayload>; this bead wraps that in the envelope. Test beads depend on this for --json assertions.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-02-26T11:53:59.816186Z","created_by":"zac","updated_at":"2026-02-27T04:07:48.758329Z","closed_at":"2026-02-27T04:07:48.757413Z","close_reason":"done","compaction_level":0,"original_size":0,"labels":["core","envelope","json","phase-1","profile"],"dependencies":[{"issue_id":"bd-2fp","depends_on_id":"bd-1r7","type":"blocks","created_at":"2026-02-26T11:54:04.506637Z","created_by":"zac"},{"issue_id":"bd-2fp","depends_on_id":"bd-qzc","type":"blocks","created_at":"2026-02-26T11:54:04.559320Z","created_by":"zac"}],"comments":[{"id":26,"issue_id":"bd-2fp","author":"Zac","text":"RESERVATIONS: src/output/json.rs, src/output/human.rs, src/output/mod.rs, src/cli/exit.rs (extends). PHASE: 1 (after bd-qzc + bd-1r7). Blocks 7 subcommand beads.","created_at":"2026-02-26T12:26:28Z"},{"id":48,"issue_id":"bd-2fp","author":"Zac","text":"PRM-0011 REVISION: Runs in PARALLEL with Phase 1 subcommand beads (decoupled architecture). Subcommand handlers return Result<Value, RefusalPayload>; this bead wraps results in envelope. No longer blocks subcommand implementation. Now blocks test beads instead.","created_at":"2026-02-26T12:38:44Z"}]}
{"id":"bd-2g9","title":"PRM-PRO-0027: list/show/diff/describe test suites","description":"Implement focused tests for resolver and read/report command contracts.\n\n## Acceptance Criteria\n- list/show resolution follows v0.1 scope (path-first, then ~/.epistemic/profiles/).\n- diff exits 0 for equivalent profiles and 1 for semantic differences with deterministic report ordering.\n- --describe emits operator manifest before input validation and matches documented fields.\n\n## Notes\nNo witness/refusal matrix duplication here.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-25T04:41:27.964963Z","created_by":"zac","updated_at":"2026-02-27T04:34:39.967748Z","closed_at":"2026-02-27T04:34:39.967671Z","close_reason":"Completed: list/show/diff/describe integration suites with full quality gate passing.","compaction_level":0,"original_size":0,"labels":["coverage","phase-3","profile","tests"],"dependencies":[{"issue_id":"bd-2g9","depends_on_id":"bd-2fp","type":"blocks","created_at":"2026-02-26T12:37:20.628140Z","created_by":"zac"},{"issue_id":"bd-2g9","depends_on_id":"bd-3mb","type":"blocks","created_at":"2026-02-25T04:41:37.116789Z","created_by":"zac"},{"issue_id":"bd-2g9","depends_on_id":"bd-8wl","type":"blocks","created_at":"2026-02-25T04:41:37.021764Z","created_by":"zac"},{"issue_id":"bd-2g9","depends_on_id":"bd-uwq","type":"blocks","created_at":"2026-02-25T04:41:36.972349Z","created_by":"zac"},{"issue_id":"bd-2g9","depends_on_id":"bd-xnw","type":"blocks","created_at":"2026-02-25T04:41:37.070607Z","created_by":"zac"}],"comments":[{"id":16,"issue_id":"bd-2g9","author":"Zac","text":"PRM-0004 plan review: diff compares semantic fields only (format, hashing, equivalence, key, include_columns) — identity fields excluded. list sort: family lexicographic then version numeric ascending. --describe works without subcommand (Option<Command>). All --json assertions should verify unified output envelope shape (PRM-PRO-0029).","created_at":"2026-02-26T11:56:11Z"},{"id":43,"issue_id":"bd-2g9","author":"Zac","text":"RESERVATIONS: tests/list.rs, tests/show.rs, tests/diff.rs, tests/describe.rs. PHASE: 4 (after bd-xnw + bd-8wl + bd-uwq + bd-3mb). Test-only, no src/ changes.","created_at":"2026-02-26T12:27:16Z"},{"id":60,"issue_id":"bd-2g9","author":"Zac","text":"PRM-0011 REVISION: Moved from phase-4 to phase-3. Added bd-2fp dep for --json envelope assertions.","created_at":"2026-02-26T12:38:54Z"},{"id":97,"issue_id":"bd-2g9","author":"Zac","text":"Starting PRM-PRO-0027: adding list/show/diff/describe test suites with deterministic output and envelope/exit assertions.","created_at":"2026-02-27T04:32:28Z"},{"id":98,"issue_id":"bd-2g9","author":"Zac","text":"Completed resolver/report suites: added tests/list.rs, tests/show.rs, tests/diff.rs, tests/describe.rs covering path-first/home resolution, list sorting, semantic diff exits/order, and --describe manifest contracts. Validation: cargo fmt --check; cargo clippy --all-targets -- -D warnings; cargo test.","created_at":"2026-02-27T04:34:39Z"}]}
{"id":"bd-2np","title":"PRM-PRO-0006: suggest-key ranking","description":"Implement `profile suggest-key <DATASET>` deterministic key candidate ranking.\n\n## Acceptance Criteria\n- Ranks candidates by uniqueness/null-rate/stability signals deterministically.\n- Supports --top N and --json outputs.\n- Tie-breaking is deterministic and documented in output.\n\n## Notes\nCan reuse stats primitives but must expose dedicated ranking output contract.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-02-25T04:25:01.017327Z","created_by":"zac","updated_at":"2026-02-27T04:05:16.124094Z","closed_at":"2026-02-27T04:05:16.123875Z","close_reason":"Completed deterministic suggest-key ranking with stability heuristics and refusal mapping","compaction_level":0,"original_size":0,"labels":["csv","key","phase-1","profile"],"dependencies":[{"issue_id":"bd-2np","depends_on_id":"bd-1r7","type":"blocks","created_at":"2026-02-25T04:43:46.622994Z","created_by":"zac"},{"issue_id":"bd-2np","depends_on_id":"bd-qzc","type":"blocks","created_at":"2026-02-25T04:44:56.521437Z","created_by":"zac"}],"comments":[{"id":6,"issue_id":"bd-2np","author":"Zac","text":"PRM-0004 plan review: tiebreaker is column position in header (earlier = higher rank). Viability threshold for --key auto: uniqueness >= 0.95 and null_rate = 0.0. Below threshold, draft init --key auto sets key: [] and emits stderr warning. Threshold not configurable in v0.1.","created_at":"2026-02-26T11:55:04Z"},{"id":34,"issue_id":"bd-2np","author":"Zac","text":"RESERVATIONS: src/stats/suggest_key.rs. Creates src/stats/mod.rs if bd-1x2 hasnt yet, or appends to it. PHASE: 2 (after bd-2fp). COORDINATION: shares src/stats/mod.rs with bd-1x2 (stats). Both run in phase 2. Prefer bd-1x2 creates mod.rs first.","created_at":"2026-02-26T12:26:42Z"},{"id":52,"issue_id":"bd-2np","author":"Zac","text":"PRM-0011 REVISION: Moved from phase-2 to phase-1. No longer depends on bd-2fp (envelope). RESERVATIONS: src/stats/suggest_key.rs only (mod.rs pre-created by scaffold).","created_at":"2026-02-26T12:38:45Z"},{"id":82,"issue_id":"bd-2np","author":"Zac","text":"Implemented src/stats/suggest_key.rs: deterministic candidate ranking by uniqueness desc, null_rate asc, stability heuristics (*_id/*_key/*_number), and header position asc tiebreak. Added viable threshold (uniqueness >= 0.95 and null_rate == 0.0), --top N slicing, ranking metadata in output, and refusal mapping (E_IO/E_CSV_PARSE/E_EMPTY). Verified with cargo fmt/clippy/test and manual CLI smoke run.","created_at":"2026-02-27T04:05:16Z"}]}
{"id":"bd-2p5","title":"PRM-PRO-0004: draft new implementation","description":"Implement `profile draft new` for blank draft generation.\n\n## Acceptance Criteria\n- `draft new --format csv --out <FILE>` writes a valid draft YAML template.\n- Output is deterministic and schema-valid.\n- Invalid format arguments refuse with clear error mapping.\n\n## Notes\nv0.1 only requires CSV format support.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-02-25T04:25:00.916166Z","created_by":"zac","updated_at":"2026-02-27T04:02:17.163778Z","closed_at":"2026-02-27T04:01:43.482138Z","close_reason":"Implemented deterministic draft new template generation (csv) with expected defaults/empty key+include_columns and IO refusal mapping per PRM-PRO-0004.","compaction_level":0,"original_size":0,"labels":["cli","draft","phase-1","profile"],"dependencies":[{"issue_id":"bd-2p5","depends_on_id":"bd-er7","type":"blocks","created_at":"2026-02-25T04:25:01.848821Z","created_by":"zac"},{"issue_id":"bd-2p5","depends_on_id":"bd-qzc","type":"blocks","created_at":"2026-02-25T04:25:01.800453Z","created_by":"zac"}],"comments":[{"id":4,"issue_id":"bd-2p5","author":"Zac","text":"PRM-0004 plan review: draft new prints output path to stdout after writing file. Blank template has key: [] and include_columns: [] with equivalence defaults. Passes validate but freeze rejects empty include_columns.","created_at":"2026-02-26T11:54:54Z"},{"id":27,"issue_id":"bd-2p5","author":"Zac","text":"RESERVATIONS: src/draft/new.rs, src/draft/mod.rs. PHASE: 1 (after bd-er7 + bd-qzc). No file conflicts.","created_at":"2026-02-26T12:26:28Z"},{"id":76,"issue_id":"bd-2p5","author":"Zac","text":"Starting implementation in src/draft/new.rs only: deterministic draft YAML generation for --format csv, write to --out path, print path on success, and map invalid format / IO to refusal payloads.","created_at":"2026-02-27T04:00:05Z"},{"id":77,"issue_id":"bd-2p5","author":"Zac","text":"Implemented src/draft/new.rs with deterministic blank draft generation for --format csv. Behavior:\n- Builds schema-valid draft template (schema_version=1, status=draft, format=csv)\n- Includes equivalence defaults (float_decimals=6, trim_strings=true)\n- Emits key: [] and include_columns: []\n- Writes YAML to --out and returns output path payload\n- Maps write failures to E_IO refusal payloads\n\nValidation:\n- cargo fmt --check passed\n- cargo check passed\n- smoke run: cargo run -- draft new --format csv --out <tmp>/new.draft.yaml writes expected YAML and exits 0","created_at":"2026-02-27T04:01:43Z"},{"id":79,"issue_id":"bd-2p5","author":"Zac","text":"Implemented draft new template generation in src/draft/new.rs: deterministic YAML struct ordering, defaults (schema_version=1,status=draft,format=csv,equivalence.float_decimals=6,equivalence.trim_strings=true,key=[],include_columns=[]), writes --out with E_IO mapping, and returns output path in handler result. Validated via cargo fmt, cargo clippy --all-targets -- -D warnings, cargo test.","created_at":"2026-02-27T04:02:17Z"}]}
{"id":"bd-2va","title":"PRM-PRO-0010: freeze canonicalization + hash","description":"Implement `profile freeze` canonicalization and immutable hash semantics.\n\n## Acceptance Criteria\n- Fills defaults (hashing.sha256 and equivalence.order=order-invariant) before canonicalization.\n- Computes profile_sha256 over canonicalized payload and writes frozen profile with profile_id `<family>.v<version>`.\n- Refuses freezing already-frozen profiles and invalid family/version syntax or integer constraints.\n\n## Notes\nv0.1 does not enforce registry-wide monotonicity across historical versions; that is deferred with push/pull workflows.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-02-25T04:25:01.223347Z","created_by":"zac","updated_at":"2026-02-27T04:11:08.045243Z","closed_at":"2026-02-27T04:11:08.045129Z","close_reason":"Completed freeze canonicalization + hash flow and freeze-mode schema validation fix","compaction_level":0,"original_size":0,"labels":["determinism","freeze","phase-1","profile"],"dependencies":[{"issue_id":"bd-2va","depends_on_id":"bd-1r7","type":"blocks","created_at":"2026-02-25T04:25:02.349675Z","created_by":"zac"},{"issue_id":"bd-2va","depends_on_id":"bd-er7","type":"blocks","created_at":"2026-02-25T04:25:02.302840Z","created_by":"zac"}],"comments":[{"id":9,"issue_id":"bd-2va","author":"Zac","text":"PRM-0004 plan review: freeze --out refuses if target file already exists (E_IO). Frozen profiles are immutable artifacts — use a new path or delete explicitly. Prints output path to stdout. Canonical form spec now fully defined: field order, block-style YAML only, no blank lines, no comments, exactly one trailing newline. On-disk frozen file uses canonical order but includes blank lines for readability plus profile_sha256 inserted as 5th field.","created_at":"2026-02-26T11:55:21Z"},{"id":32,"issue_id":"bd-2va","author":"Zac","text":"RESERVATIONS: src/freeze/freeze.rs, src/freeze/mod.rs. Reads src/schema/canonical.rs (no write conflict). PHASE: 2 (after bd-2fp).","created_at":"2026-02-26T12:26:42Z"},{"id":50,"issue_id":"bd-2va","author":"Zac","text":"PRM-0011 REVISION: Moved from phase-2 to phase-1. No longer depends on bd-2fp (envelope).","created_at":"2026-02-26T12:38:44Z"},{"id":85,"issue_id":"bd-2va","author":"Zac","text":"Validated and completed freeze flow in src/freeze/freeze.rs with working end-to-end behavior: output-path immutability check, draft parse/validate, already-frozen refusal, family syntax validation, default fill before canonicalization, canonical SHA256 computation, and frozen artifact write with profile_id/profile_sha256 result payload. Fixed schema validation interaction for freeze-mode canonicalization in src/schema/validate.rs: frozen profiles in ValidationMode::Freeze no longer require preexisting profile_sha256 (but still validate format when present). Verified via cargo fmt/clippy/test and manual freeze smoke (success + already-frozen refusal).","created_at":"2026-02-27T04:11:07Z"}]}
{"id":"bd-2yy","title":"PRM-PRO-0017: draft command test suites","description":"Implement focused tests for draft subcommands (draft new + draft init).\n\n## Acceptance Criteria\n- draft new emits schema-valid deterministic CSV template and rejects unsupported formats.\n- draft init produces include_columns in header order; key behavior covers explicit key, --key auto, and no-candidate fallback.\n- Exit contract and output snapshots are asserted for success/refusal cases.\n\n## Notes\nOther command families are covered by dedicated test beads (schema/lint, stats/suggest/freeze, list/show/diff/describe, witness/refusal).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-25T04:25:01.586071Z","created_by":"zac","updated_at":"2026-02-27T04:23:38.118884Z","closed_at":"2026-02-27T04:23:38.118629Z","close_reason":"Completed draft new/init test suites with success+refusal envelope assertions","compaction_level":0,"original_size":0,"labels":["coverage","phase-3","profile","tests"],"dependencies":[{"issue_id":"bd-2yy","depends_on_id":"bd-1r7","type":"blocks","created_at":"2026-02-25T04:43:46.767012Z","created_by":"zac"},{"issue_id":"bd-2yy","depends_on_id":"bd-2fp","type":"blocks","created_at":"2026-02-26T12:37:20.469778Z","created_by":"zac"},{"issue_id":"bd-2yy","depends_on_id":"bd-2p5","type":"blocks","created_at":"2026-02-25T04:25:02.762400Z","created_by":"zac"},{"issue_id":"bd-2yy","depends_on_id":"bd-3mb","type":"blocks","created_at":"2026-02-25T04:25:02.720186Z","created_by":"zac"},{"issue_id":"bd-2yy","depends_on_id":"bd-fhp","type":"blocks","created_at":"2026-02-25T04:25:02.902276Z","created_by":"zac"}],"comments":[{"id":17,"issue_id":"bd-2yy","author":"Zac","text":"PRM-0004 plan review: draft new and draft init now print output path to stdout. draft init --key auto requires full dataset parse (E_EMPTY if no data rows). All --json assertions for artifact subcommands should verify unified output envelope with result containing path.","created_at":"2026-02-26T11:56:16Z"},{"id":40,"issue_id":"bd-2yy","author":"Zac","text":"RESERVATIONS: tests/draft_new.rs, tests/draft_init.rs. PHASE: 4 (after bd-fhp + bd-2p5 + bd-3mb). Test-only, no src/ changes.","created_at":"2026-02-26T12:27:16Z"},{"id":58,"issue_id":"bd-2yy","author":"Zac","text":"PRM-0011 REVISION: Moved from phase-4 to phase-3. Added bd-2fp dep for --json envelope assertions.","created_at":"2026-02-26T12:38:54Z"},{"id":91,"issue_id":"bd-2yy","author":"Zac","text":"Added focused draft command integration suites: tests/draft_new.rs and tests/draft_init.rs. Coverage includes deterministic draft new template content, schema-valid validation pass, unsupported format refusal, header-order include_columns, explicit key, auto key selection, auto fallback to empty key, auto refusal on header-only dataset (E_EMPTY), and --json envelope assertions for artifact outputs. Updated tests/common/mod.rs helper to use CARGO_BIN_EXE_profile and silence non-actionable dead-code helper warnings across per-test compiles. Validation: cargo fmt, cargo clippy --all-targets -D warnings, cargo test (all passing).","created_at":"2026-02-27T04:23:38Z"}]}
{"id":"bd-3mb","title":"PRM-PRO-0016: fixture corpus","description":"Build test fixture corpus and shared test utilities for profile CLI testing.\n\n## Acceptance Criteria\n- Fixture set includes valid/invalid draft/frozen YAML profiles and CSV datasets with key/no-key/duplicates/missing columns.\n- Fixture README documents intended usage per test family.\n- Fixture contents are deterministic and reusable across unit/integration tests.\n- Shared test helpers module (tests/common/mod.rs or tests/helpers.rs) provides: CLI binary runner wrapper, temp dir setup/teardown, JSON output assertion helpers, exit code assertion macros.\n- Cargo.toml dev-dependencies are verified present (assert_cmd, predicates, tempfile).\n\n## Notes\nData + test infrastructure bead; no runtime logic changes. All 5 test suite beads depend on this.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-25T04:25:01.532958Z","created_by":"zac","updated_at":"2026-02-27T03:58:47.127724Z","closed_at":"2026-02-27T03:58:47.127578Z","close_reason":"Fixture corpus and shared test helpers added with deterministic profile/dataset cases and reusable CLI/JSON/exit assertion utilities per PRM-PRO-0016.","compaction_level":0,"original_size":0,"labels":["fixtures","phase-0","profile","tests"],"comments":[{"id":21,"issue_id":"bd-3mb","author":"Zac","text":"RESERVATIONS: tests/fixtures/**. PHASE: 0 (no deps). Blocks all 5 test suites. Data-only bead.","created_at":"2026-02-26T12:26:12Z"},{"id":62,"issue_id":"bd-3mb","author":"Zac","text":"PRM-0011 REVISION: Expanded scope to include shared test utilities (CLI runner, assertion helpers, temp dir setup).","created_at":"2026-02-26T12:38:55Z"},{"id":73,"issue_id":"bd-3mb","author":"Zac","text":"Starting fixture corpus + shared test helpers: create deterministic profile YAML and CSV fixture sets (valid/invalid, key/no-key/duplicates/missing columns), add fixture README, and add tests/common/mod.rs with CLI runner/tempdir/JSON helpers/exit assertion macros.","created_at":"2026-02-27T03:56:38Z"},{"id":75,"issue_id":"bd-3mb","author":"Zac","text":"Implemented fixture corpus + shared test helpers.\n\nAdded:\n- tests/fixtures/README.md usage map by test family\n- tests/fixtures/profiles/{valid,invalid} with deterministic draft/frozen YAML cases\n- tests/fixtures/datasets/{valid,invalid} with key/no-key/duplicates/missing-column/header-only/malformed/empty CSV cases\n- tests/common/mod.rs helper module with CLI runner wrapper, temp workspace helper, fixture copy helper, JSON envelope assertions, stdout assertion helper, and exit-code assertion macros (success/issues/refusal)\n\nValidation:\n- cargo fmt --check passed\n- Cargo.toml dev-deps verified present: assert_cmd, predicates, tempfile","created_at":"2026-02-27T03:58:47Z"}]}
{"id":"bd-3td","title":"PRM-PRO-0018: witness/refusal test suites","description":"Implement witness and refusal integration tests for profile CLI.\n\n## Acceptance Criteria\n- Witness append/no-witness behavior tested across eligible and ineligible subcommands.\n- witness query/last/count behavior tested against synthetic ledgers.\n- Refusal envelope shape and detail payloads tested for all refusal codes.\n\n## Notes\nIntegration-level assertion bead; avoid duplicating core command correctness tests.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-25T04:25:01.639663Z","created_by":"zac","updated_at":"2026-02-27T04:25:48.233134Z","closed_at":"2026-02-27T04:25:48.233009Z","close_reason":"Completed witness and refusal integration suites with full refusal-code coverage","compaction_level":0,"original_size":0,"labels":["phase-3","profile","tests","witness"],"dependencies":[{"issue_id":"bd-3td","depends_on_id":"bd-1r7","type":"blocks","created_at":"2026-02-25T04:25:03.364226Z","created_by":"zac"},{"issue_id":"bd-3td","depends_on_id":"bd-21t","type":"blocks","created_at":"2026-02-25T04:25:03.272574Z","created_by":"zac"},{"issue_id":"bd-3td","depends_on_id":"bd-2fp","type":"blocks","created_at":"2026-02-26T12:37:20.682918Z","created_by":"zac"},{"issue_id":"bd-3td","depends_on_id":"bd-3mb","type":"blocks","created_at":"2026-02-25T04:25:03.226228Z","created_by":"zac"},{"issue_id":"bd-3td","depends_on_id":"bd-awi","type":"blocks","created_at":"2026-02-25T04:25:03.318093Z","created_by":"zac"}],"comments":[{"id":13,"issue_id":"bd-3td","author":"Zac","text":"PRM-0004 plan review: refusal envelope is now part of unified output envelope (PRM-PRO-0029). Tests should verify refusal responses use the same envelope shape as success responses, with outcome=REFUSAL and detail in result field. Human-mode refusals go to stderr with code in brackets.","created_at":"2026-02-26T11:55:56Z"},{"id":44,"issue_id":"bd-3td","author":"Zac","text":"RESERVATIONS: tests/witness.rs, tests/refusal.rs. PHASE: 4 (after bd-awi + bd-21t + bd-3mb). Test-only, no src/ changes.","created_at":"2026-02-26T12:27:16Z"},{"id":61,"issue_id":"bd-3td","author":"Zac","text":"PRM-0011 REVISION: Moved from phase-4 to phase-3. Added bd-2fp dep for --json envelope assertions.","created_at":"2026-02-26T12:38:55Z"},{"id":92,"issue_id":"bd-3td","author":"Zac","text":"Added integration suites for witness/refusal behavior: tests/witness.rs validates witness append eligibility, --no-witness suppression, and witness query/last/count deterministic behavior against synthetic ledgers; tests/refusal.rs validates unified REFUSAL envelope and code/detail mapping across all refusal codes (E_INVALID_SCHEMA, E_MISSING_FIELD, E_BAD_VERSION, E_ALREADY_FROZEN, E_IO, E_CSV_PARSE, E_EMPTY, E_COLUMN_NOT_FOUND). All assertions run in JSON mode for envelope shape checks. Validation: cargo fmt, cargo clippy --all-targets -D warnings, cargo test (all passing).","created_at":"2026-02-27T04:25:48Z"}]}
{"id":"bd-5q4","title":"PRM-PRO-0028: Homebrew/tap release parity","description":"Implement Homebrew/tap publishing parity for profile release flow if required by distribution strategy.\n\n## Acceptance Criteria\n- Release workflow updates tap metadata/formula (or equivalent) from released artifacts.\n- Version bump and checksum update are deterministic and reproducible.\n- Failure modes are explicit with actionable retry guidance.\n\n## Notes\nDeferred until core release workflow (PRM-PRO-0021) is stable.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-25T04:44:56.761191Z","created_by":"zac","updated_at":"2026-02-27T04:42:58.468209Z","closed_at":"2026-02-27T04:42:58.468107Z","close_reason":"Completed: Homebrew tap parity workflow added with deterministic formula/checksum updates.","compaction_level":0,"original_size":0,"labels":["deferred","phase-1","profile","release"],"dependencies":[{"issue_id":"bd-5q4","depends_on_id":"bd-13a","type":"blocks","created_at":"2026-02-25T04:45:02.549834Z","created_by":"zac"}],"comments":[{"id":46,"issue_id":"bd-5q4","author":"Zac","text":"RESERVATIONS: .github/workflows/homebrew.yml. PHASE: 5 (P2, after bd-13a). Independent of code.","created_at":"2026-02-26T12:27:23Z"},{"id":101,"issue_id":"bd-5q4","author":"Zac","text":"Starting PRM-PRO-0028: aligning Homebrew/tap release parity artifacts and docs for profile releases.","created_at":"2026-02-27T04:41:53Z"},{"id":102,"issue_id":"bd-5q4","author":"Zac","text":"Implemented Homebrew tap parity via new workflow .github/workflows/homebrew.yml: triggers on release published/workflow_dispatch, resolves release tag deterministically, downloads SHA256SUMS, generates Formula/profile.rb with deterministic target mapping + checksum enforcement, validates HOMEBREW_TAP_TOKEN, and pushes tap updates with clear retry guidance on failure. Validation: cargo fmt --check; cargo clippy --all-targets -- -D warnings; cargo test.","created_at":"2026-02-27T04:42:58Z"}]}
{"id":"bd-8rq","title":"PRM-PRO-0025: schema+lint test suites","description":"Implement focused tests for validate/lint behavior.\n\n## Acceptance Criteria\n- validate paths: valid draft/frozen pass; malformed/missing-field inputs refuse with correct code/detail.\n- lint paths: missing columns/keys report ISSUES_FOUND (exit 1), parser/input problems refuse (exit 2).\n- Human and --json output contracts are asserted with stable snapshots.\n\n## Notes\nScope excludes stats/suggest/freeze and witness tests (covered by separate beads).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-25T04:41:27.865096Z","created_by":"zac","updated_at":"2026-02-27T04:29:27.379961Z","closed_at":"2026-02-27T04:29:27.379882Z","close_reason":"Completed: validate/lint integration suites added and quality gate passing.","compaction_level":0,"original_size":0,"labels":["coverage","phase-3","profile","tests"],"dependencies":[{"issue_id":"bd-8rq","depends_on_id":"bd-1g5","type":"blocks","created_at":"2026-02-25T04:41:36.584099Z","created_by":"zac"},{"issue_id":"bd-8rq","depends_on_id":"bd-1r7","type":"blocks","created_at":"2026-02-25T04:41:36.681707Z","created_by":"zac"},{"issue_id":"bd-8rq","depends_on_id":"bd-2fp","type":"blocks","created_at":"2026-02-26T12:37:20.520702Z","created_by":"zac"},{"issue_id":"bd-8rq","depends_on_id":"bd-3mb","type":"blocks","created_at":"2026-02-25T04:41:36.632566Z","created_by":"zac"},{"issue_id":"bd-8rq","depends_on_id":"bd-e5g","type":"blocks","created_at":"2026-02-25T04:41:36.534727Z","created_by":"zac"}],"comments":[{"id":14,"issue_id":"bd-8rq","author":"Zac","text":"PRM-0004 plan review: validate now checks frozen-profile invariants (profile_sha256 format check: sha256: prefix + 64 hex chars, no hash recomputation). All --json assertions should verify unified output envelope shape (PRM-PRO-0029).","created_at":"2026-02-26T11:56:01Z"},{"id":41,"issue_id":"bd-8rq","author":"Zac","text":"RESERVATIONS: tests/validate.rs, tests/lint.rs. PHASE: 4 (after bd-1g5 + bd-e5g + bd-3mb). Test-only, no src/ changes.","created_at":"2026-02-26T12:27:16Z"},{"id":59,"issue_id":"bd-8rq","author":"Zac","text":"PRM-0011 REVISION: Moved from phase-4 to phase-3. Added bd-2fp dep for --json envelope assertions.","created_at":"2026-02-26T12:38:54Z"},{"id":93,"issue_id":"bd-8rq","author":"Zac","text":"Started implementation for schema+lint suites; focusing on tests/validate.rs and adding tests/lint.rs with human/JSON envelope assertions.","created_at":"2026-02-27T04:27:50Z"},{"id":94,"issue_id":"bd-8rq","author":"Zac","text":"Implemented schema+lint suites: expanded tests/validate.rs and added tests/lint.rs with success/refusal paths, ISSUES_FOUND exit=1 assertions, deterministic issue ordering, and human/--json contract checks. Validation: cargo fmt --check; cargo clippy --all-targets -- -D warnings; cargo test.","created_at":"2026-02-27T04:29:27Z"}]}
{"id":"bd-8wl","title":"PRM-PRO-0012: diff command","description":"Implement `profile diff <A> <B>` structural diff command.\n\n## Acceptance Criteria\n- Diffs two resolved profiles and reports field-level differences deterministically.\n- Exit 1 when differences exist; exit 0 when equivalent.\n- Supports human and --json output modes.\n\n## Notes\nUses resolution behavior from list/show bead.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-02-25T04:25:01.326557Z","created_by":"zac","updated_at":"2026-02-27T04:18:52.876123Z","closed_at":"2026-02-27T04:18:52.875866Z","close_reason":"Completed structural diff with deterministic differences and issues exit behavior","compaction_level":0,"original_size":0,"labels":["cli","diff","phase-2","profile"],"dependencies":[{"issue_id":"bd-8wl","depends_on_id":"bd-uwq","type":"blocks","created_at":"2026-02-25T04:25:02.493427Z","created_by":"zac"}],"comments":[{"id":11,"issue_id":"bd-8wl","author":"Zac","text":"PRM-0004 plan review: diff compares semantic fields only: format, hashing, equivalence, key, include_columns. Identity fields excluded (profile_id, profile_version, profile_family, profile_sha256, status, schema_version). This means diffing draft vs frozen reports only meaningful differences. Each difference: { field, a_value, b_value }.","created_at":"2026-02-26T11:55:32Z"},{"id":39,"issue_id":"bd-8wl","author":"Zac","text":"RESERVATIONS: src/diff/diff.rs, src/diff/mod.rs. PHASE: 3 (after bd-uwq). Creates diff module.","created_at":"2026-02-26T12:26:51Z"},{"id":55,"issue_id":"bd-8wl","author":"Zac","text":"PRM-0011 REVISION: Moved from phase-3 to phase-2. No longer depends on bd-2fp.","created_at":"2026-02-26T12:38:54Z"},{"id":88,"issue_id":"bd-8wl","author":"Zac","text":"Verified and finalized diff command behavior in src/diff/diff.rs: resolves both inputs via resolver (path-first then profile-id), compares semantic fields only (format, hashing, equivalence, key, include_columns), emits deterministic field-level differences, and includes equivalent flag with resolved paths. Confirmed exit semantics now match contract (exit 1 when differences, exit 0 when equivalent) in human + --json modes. Validation included cargo fmt/clippy/test plus manual diff smoke tests.","created_at":"2026-02-27T04:18:52Z"}]}
{"id":"bd-awi","title":"PRM-PRO-0015: witness query CLI","description":"Implement `profile witness query|last|count` subcommands.\n\n## Acceptance Criteria\n- query/last/count commands read ledger and support expected filters/options.\n- Human and --json output supported with deterministic ordering.\n- Empty/no-match behavior follows witness conventions and documented exits.\n\n## Notes\nDepends on witness ledger model from PRM-PRO-0014.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-02-25T04:25:01.479455Z","created_by":"zac","updated_at":"2026-02-27T04:20:56.712801Z","closed_at":"2026-02-27T04:20:45.349507Z","close_reason":"Completed witness query|last|count CLI over witness ledger","compaction_level":0,"original_size":0,"labels":["cli","phase-2","profile","witness"],"dependencies":[{"issue_id":"bd-awi","depends_on_id":"bd-21t","type":"blocks","created_at":"2026-02-25T04:25:02.678082Z","created_by":"zac"}],"comments":[{"id":36,"issue_id":"bd-awi","author":"Zac","text":"RESERVATIONS: src/witness/query.rs. Appends to src/witness/mod.rs (created by bd-21t). PHASE: 2 (after bd-21t).","created_at":"2026-02-26T12:26:42Z"},{"id":89,"issue_id":"bd-awi","author":"Zac","text":"Implemented witness query CLI in src/witness/query.rs:  (optional --limit), zac        ttys019                         Thu Feb 26 22:43   still logged in\nzac        ttys010                         Thu Feb 26 22:41   still logged in\nzac        ttys001                         Thu Feb 26 22:38   still logged in\nzac        ttys010                         Thu Feb 26 19:58 - 19:58  (00:00)\nzac        ttys010                         Thu Feb 26 19:35 - 19:35  (00:00)\nzac        ttys002                         Thu Feb 26 19:31   still logged in\nzac        ttys001                         Thu Feb 26 19:17 - 19:17  (00:00)\nzac        ttys001                         Thu Feb 26 17:20 - 17:20  (00:00)\nzac        ttys001                         Thu Feb 26 16:26 - 16:26  (00:00)\nzac        ttys005                         Thu Feb 26 07:25 - 07:25  (00:00)\nzac        ttys002                         Thu Feb 26 06:25 - 06:25  (00:00)\nzac        ttys001                         Thu Feb 26 06:20 - 06:20  (00:00)\nzac        ttys005                         Wed Feb 25 22:38 - 22:38  (00:00)\nzac        ttys005                         Wed Feb 25 22:35 - 22:35  (00:00)\nzac        ttys004                         Wed Feb 25 22:33   still logged in\nzac        ttys003                         Wed Feb 25 22:31   still logged in\nzac        ttys001                         Wed Feb 25 22:28 - 22:28  (00:00)\nzac        ttys000                         Wed Feb 25 21:40   still logged in\nzac        ttys000                         Wed Feb 25 11:28 - 11:28  (00:00)\nzac        ttys000                         Wed Feb 25 11:24 - 11:24  (00:00)\nzac        console                         Wed Feb 25 10:49   still logged in\nreboot time                                Wed Feb 25 10:49\nshutdown time                              Wed Feb 25 10:48\nzac        ttys013                         Wed Feb 25 09:01 - 09:01  (00:00)\nzac        ttys014                         Wed Feb 25 08:45 - 08:45  (00:00)\nzac        ttys005                         Tue Feb 24 22:45 - 22:45  (00:00)\nzac        ttys003                         Tue Feb 24 22:43 - 22:43  (00:00)\nzac        ttys003                         Tue Feb 24 22:02 - 22:02  (00:00)\nzac        ttys011                         Tue Feb 24 18:34 - 18:34  (00:00)\nzac        ttys010                         Tue Feb 24 18:26 - 18:26  (00:00)\nzac        ttys003                         Tue Feb 24 18:21 - 18:21  (00:00)\nzac        ttys003                         Tue Feb 24 18:15 - 18:15  (00:00)\nzac        ttys001                         Tue Feb 24 18:10 - 18:10  (00:00)\nzac        ttys001                         Tue Feb 24 18:09 - 18:09  (00:00)\nzac        ttys011                         Tue Feb 24 15:53 - 15:53  (00:00)\nzac        ttys004                         Tue Feb 24 08:20 - 08:20  (00:00)\nzac        ttys003                         Tue Feb 24 08:16 - 08:16  (00:00)\nzac        ttys010                         Tue Feb 24 07:39 - 07:39  (00:00)\nzac        ttys003                         Mon Feb 23 22:29 - 22:29  (00:00)\nzac        ttys001                         Mon Feb 23 22:24 - 22:24  (00:00)\nzac        ttys003                         Mon Feb 23 21:48 - 21:48  (00:00)\nzac        ttys002                         Mon Feb 23 20:07 - 20:07  (00:00)\nzac        ttys001                         Mon Feb 23 19:25 - 19:25  (00:00)\nzac        ttys001                         Mon Feb 23 19:23 - 19:23  (00:00)\nzac        ttys000                         Mon Feb 23 19:19 - 19:19  (00:00)\nzac        ttys001                         Mon Feb 23 17:23 - 17:23  (00:00)\nzac        ttys000                         Sun Feb 22 12:34 - 12:34  (00:00)\nzac        ttys006                         Fri Feb 20 07:57 - 07:57  (00:00)\nzac        ttys005                         Fri Feb 20 06:30 - 06:30  (00:00)\nzac        ttys004                         Fri Feb 20 06:30 - 06:30  (00:00)\nzac        ttys003                         Fri Feb 20 06:30 - 06:30  (00:00)\nzac        ttys002                         Fri Feb 20 06:30 - 06:30  (00:00)\nzac        ttys001                         Fri Feb 20 06:30 - 06:30  (00:00)\nzac        ttys000                         Fri Feb 20 06:30 - 06:30  (00:00)\nzac        console                         Fri Feb 20 06:30 - 10:48 (5+04:17)\nzac        ttys005                         Thu Feb 19 21:20 - 06:30  (09:10)\nzac        ttys005                         Thu Feb 19 20:03 - 20:03  (00:00)\nzac        ttys004                         Thu Feb 19 19:54 - 06:30  (10:36)\nzac        ttys004                         Thu Feb 19 16:14 - 16:14  (00:00)\nzac        ttys002                         Thu Feb 19 13:16 - 06:30  (17:14)\nzac        ttys001                         Thu Feb 19 08:38 - 06:30  (21:52)\nzac        ttys000                         Wed Feb 18 10:27 - 06:30 (1+20:02)\nzac        ttys003                         Wed Feb 18 08:59 - 06:30 (1+21:31)\nzac        ttys003                         Wed Feb 18 08:57 - 08:57  (00:00)\nzac        ttys002                         Wed Feb 18 08:49 - 08:49  (00:00)\nzac        ttys002                         Wed Feb 18 07:46 - 07:46  (00:00)\nzac        ttys002                         Wed Feb 18 07:40 - 07:40  (00:00)\nzac        ttys000                         Mon Feb 16 08:48 - 08:48  (00:00)\nzac        ttys001                         Sun Feb 15 09:45 - 09:45  (00:00)\nzac        ttys003                         Sun Feb 15 09:23 - 09:23  (00:00)\nzac        ttys002                         Sun Feb 15 08:43 - 08:43  (00:00)\nzac        ttys001                         Sun Feb 15 08:37 - 08:37  (00:00)\nzac        ttys000                         Sun Feb 15 08:37 - 08:37  (00:00)\nzac        console                         Sun Feb 15 08:13 - 06:30 (4+22:16)\nreboot time                                Sun Feb 15 08:13\nshutdown time                              Sun Feb 15 08:06\nroot       console                         Sun Feb 15 08:06 - shutdown  (00:00)\nzac        ttys002                         Sat Feb 14 09:01 - 09:01  (00:00)\nzac        ttys001                         Sat Feb 14 08:53 - 08:53  (00:00)\nzac        ttys001                         Sat Feb 14 08:15 - 08:15  (00:00)\nzac        ttys001                         Thu Feb 12 21:52 - 21:52  (00:00)\nzac        ttys000                         Thu Feb 12 21:32 - 21:32  (00:00)\nzac        ttys003                         Thu Feb 12 21:02 - 21:02  (00:00)\nzac        ttys005                         Tue Feb 10 23:24 - 23:24  (00:00)\nzac        ttys004                         Tue Feb 10 21:36 - 21:36  (00:00)\nzac        ttys003                         Tue Feb 10 12:45 - 12:45  (00:00)\nzac        ttys002                         Tue Feb 10 11:50 - 11:50  (00:00)\nzac        ttys001                         Tue Feb 10 11:49 - 11:49  (00:00)\nzac        ttys001                         Tue Feb 10 08:44 - 08:44  (00:00)\nzac        ttys002                         Tue Feb 10 08:03 - 08:03  (00:00)\nzac        ttys001                         Tue Feb 10 08:03 - 08:03  (00:00)\nzac        ttys000                         Mon Feb  9 19:31 - 19:31  (00:00)\nzac        ttys001                         Mon Feb  9 16:33 - 16:33  (00:00)\nzac        ttys000                         Mon Feb  9 14:04 - 14:04  (00:00)\nzac        ttys008                         Mon Feb  9 12:08 - 12:08  (00:00)\nzac        ttys008                         Mon Feb  9 09:42 - 09:42  (00:00)\nzac        ttys006                         Mon Feb  9 08:58 - 08:58  (00:00)\nzac        ttys000                         Mon Feb  9 08:06 - 08:06  (00:00)\nzac        ttys010                         Sun Feb  8 20:52 - 20:52  (00:00)\nzac        ttys010                         Sun Feb  8 19:48 - 19:48  (00:00)\nzac        ttys009                         Sun Feb  8 19:27 - 19:27  (00:00)\nzac        ttys002                         Sun Feb  8 18:46 - 18:46  (00:00)\nzac        ttys008                         Sun Feb  8 17:51 - 17:51  (00:00)\nzac        ttys007                         Sun Feb  8 09:46 - 09:46  (00:00)\nzac        ttys006                         Sun Feb  8 06:57 - 06:57  (00:00)\nzac        ttys005                         Sat Feb  7 20:32 - 20:32  (00:00)\nzac        ttys006                         Sat Feb  7 15:51 - 15:51  (00:00)\nzac        ttys005                         Sat Feb  7 15:21 - 15:21  (00:00)\nzac        ttys004                         Sat Feb  7 11:22 - 11:22  (00:00)\nzac        ttys004                         Sat Feb  7 11:21 - 11:21  (00:00)\nzac        ttys003                         Sat Feb  7 11:08 - 11:08  (00:00)\nzac        ttys002                         Sat Feb  7 10:51 - 10:51  (00:00)\nzac        ttys001                         Sat Feb  7 10:50 - 10:50  (00:00)\nzac        ttys000                         Sat Feb  7 10:43 - 10:43  (00:00)\nzac        console                         Sat Feb  7 10:37 - 08:06 (7+21:28)\nreboot time                                Sat Feb  7 10:37\nshutdown time                              Sat Feb  7 10:34\nzac        ttys002                         Sat Feb  7 10:31 - 10:31  (00:00)\nzac        ttys003                         Fri Feb  6 21:29 - 21:29  (00:00)\nzac        ttys002                         Fri Feb  6 21:22 - 21:22  (00:00)\nzac        ttys000                         Fri Feb  6 21:03 - 21:03  (00:00)\nzac        ttys004                         Fri Feb  6 16:49 - 16:49  (00:00)\nzac        ttys003                         Fri Feb  6 11:34 - 11:34  (00:00)\nzac        ttys003                         Thu Feb  5 23:54 - 23:54  (00:00)\nzac        ttys003                         Thu Feb  5 22:29 - 22:29  (00:00)\nzac        ttys002                         Thu Feb  5 22:23 - 22:23  (00:00)\nzac        ttys002                         Thu Feb  5 22:21 - 22:21  (00:00)\nzac        ttys000                         Thu Feb  5 22:16 - 22:16  (00:00)\nzac        ttys000                         Thu Feb  5 00:04 - 00:04  (00:00)\nzac        ttys000                         Tue Feb  3 20:45 - 20:45  (00:00)\nzac        ttys003                         Tue Feb  3 20:37 - 20:37  (00:00)\nzac        ttys024                         Tue Feb  3 16:23 - 16:23  (00:00)\nzac        ttys000                         Tue Feb  3 14:08 - 14:08  (00:00)\nzac        ttys016                         Tue Feb  3 12:11 - 12:11  (00:00)\nzac        ttys015                         Tue Feb  3 12:06 - 12:06  (00:00)\nzac        ttys014                         Tue Feb  3 12:00 - 12:00  (00:00)\nzac        ttys013                         Tue Feb  3 11:02 - 11:02  (00:00)\nzac        ttys013                         Tue Feb  3 10:59 - 10:59  (00:00)\nzac        ttys013                         Tue Feb  3 09:18 - 09:18  (00:00)\nzac        ttys013                         Tue Feb  3 09:10 - 09:10  (00:00)\nzac        ttys014                         Mon Feb  2 06:54 - 06:54  (00:00)\nzac        ttys013                         Mon Feb  2 06:50 - 06:50  (00:00)\nzac        ttys013                         Sun Feb  1 13:00 - 13:00  (00:00)\nzac        ttys016                         Sun Feb  1 12:02 - 12:02  (00:00)\nzac        ttys015                         Sun Feb  1 11:14 - 11:14  (00:00)\nzac        ttys014                         Sun Feb  1 10:46 - 10:46  (00:00)\nzac        ttys013                         Sat Jan 31 10:34 - 10:34  (00:00)\nzac        ttys000                         Fri Jan 30 22:06 - 22:06  (00:00)\nzac        ttys004                         Fri Jan 30 21:44 - 21:44  (00:00)\nzac        ttys003                         Fri Jan 30 21:12 - 21:12  (00:00)\nzac        ttys002                         Fri Jan 30 21:08 - 21:08  (00:00)\nzac        ttys002                         Fri Jan 30 20:36 - 20:36  (00:00)\nzac        ttys001                         Fri Jan 30 20:33 - 20:33  (00:00)\nzac        ttys003                         Fri Jan 30 20:14 - 20:14  (00:00)\nzac        ttys002                         Fri Jan 30 16:13 - 16:13  (00:00)\nzac        ttys001                         Thu Jan 29 19:50 - 19:50  (00:00)\nzac        ttys001                         Thu Jan 29 19:48 - 19:48  (00:00)\nzac        ttys004                         Thu Jan 29 19:45 - 19:45  (00:00)\nzac        ttys003                         Thu Jan 29 19:10 - 19:10  (00:00)\nzac        ttys002                         Thu Jan 29 18:54 - 18:54  (00:00)\nzac        ttys004                         Thu Jan 29 18:07 - 18:07  (00:00)\nzac        ttys003                         Thu Jan 29 12:01 - 12:01  (00:00)\nzac        ttys002                         Wed Jan 28 23:13 - 23:13  (00:00)\nzac        ttys001                         Wed Jan 28 22:52 - 22:52  (00:00)\nzac        ttys005                         Wed Jan 28 22:49 - 22:49  (00:00)\nzac        ttys004                         Wed Jan 28 22:37 - 22:37  (00:00)\nzac        ttys003                         Wed Jan 28 22:35 - 22:35  (00:00)\nzac        ttys001                         Wed Jan 28 22:32 - 22:32  (00:00)\nzac        ttys013                         Wed Jan 28 20:34 - 20:34  (00:00)\nzac        ttys012                         Wed Jan 28 16:03 - 16:03  (00:00)\nzac        ttys011                         Wed Jan 28 15:56 - 15:56  (00:00)\nzac        ttys010                         Wed Jan 28 15:56 - 15:56  (00:00)\nzac        ttys009                         Wed Jan 28 15:49 - 15:49  (00:00)\nzac        ttys001                         Wed Jan 28 10:26 - 10:26  (00:00)\nzac        ttys003                         Wed Jan 28 10:15 - 10:15  (00:00)\nzac        ttys008                         Wed Jan 28 07:47 - 07:47  (00:00)\nzac        ttys009                         Wed Jan 28 07:36 - 07:36  (00:00)\nzac        ttys003                         Tue Jan 27 22:20 - 22:20  (00:00)\nzac        ttys003                         Tue Jan 27 22:11 - 22:11  (00:00)\nzac        ttys009                         Tue Jan 27 21:47 - 21:47  (00:00)\nzac        ttys008                         Tue Jan 27 21:41 - 21:41  (00:00)\nzac        ttys007                         Tue Jan 27 21:21 - 21:21  (00:00)\nzac        ttys006                         Tue Jan 27 21:02 - 21:02  (00:00)\nzac        ttys004                         Tue Jan 27 21:01 - 21:01  (00:00)\nzac        ttys003                         Tue Jan 27 20:28 - 20:28  (00:00)\nzac        ttys002                         Tue Jan 27 20:25 - 20:25  (00:00)\nzac        ttys002                         Tue Jan 27 11:50 - 11:50  (00:00)\nzac        ttys003                         Tue Jan 27 11:22 - 11:22  (00:00)\nzac        ttys002                         Tue Jan 27 10:51 - 10:51  (00:00)\nzac        ttys001                         Tue Jan 27 09:49 - 09:49  (00:00)\nzac        ttys002                         Tue Jan 27 09:35 - 09:35  (00:00)\nzac        ttys002                         Tue Jan 27 09:28 - 09:28  (00:00)\nzac        ttys008                         Tue Jan 27 08:38 - 08:38  (00:00)\nzac        ttys007                         Tue Jan 27 08:38 - 08:38  (00:00)\nzac        ttys006                         Tue Jan 27 08:29 - 08:29  (00:00)\nzac        ttys005                         Tue Jan 27 08:21 - 08:21  (00:00)\nzac        ttys004                         Tue Jan 27 07:51 - 07:51  (00:00)\nzac        ttys003                         Mon Jan 26 18:45 - 18:45  (00:00)\nzac        ttys003                         Mon Jan 26 14:36 - 14:36  (00:00)\nzac        ttys002                         Mon Jan 26 11:53 - 11:53  (00:00)\nzac        ttys002                         Mon Jan 26 11:51 - 11:51  (00:00)\nzac        ttys002                         Mon Jan 26 11:50 - 11:50  (00:00)\nzac        ttys002                         Mon Jan 26 11:48 - 11:48  (00:00)\nzac        ttys001                         Mon Jan 26 10:04 - 10:04  (00:00)\nzac        ttys005                         Mon Jan 26 09:24 - 09:24  (00:00)\nzac        ttys003                         Mon Jan 26 09:20 - 09:20  (00:00)\nzac        ttys002                         Mon Jan 26 08:24 - 08:24  (00:00)\nzac        ttys002                         Mon Jan 26 07:28 - 07:28  (00:00)\nzac        ttys001                         Sun Jan 25 17:02 - 17:02  (00:00)\nzac        ttys007                         Sun Jan 25 12:51 - 12:51  (00:00)\nzac        ttys006                         Sun Jan 25 11:49 - 11:49  (00:00)\nzac        ttys011                         Sun Jan 25 10:18 - 10:18  (00:00)\nzac        ttys002                         Sun Jan 25 09:30 - 09:30  (00:00)\nzac        ttys002                         Sun Jan 25 08:19 - 08:19  (00:00)\nzac        ttys008                         Sun Jan 25 08:04 - 08:04  (00:00)\nzac        ttys004                         Sun Jan 25 08:01 - 08:01  (00:00)\nzac        ttys007                         Sun Jan 25 07:44 - 07:44  (00:00)\nzac        ttys004                         Sun Jan 25 07:05 - 07:05  (00:00)\nzac        ttys003                         Sat Jan 24 07:49 - 07:49  (00:00)\nzac        ttys002                         Thu Jan 22 19:24 - 19:24  (00:00)\nzac        ttys006                         Thu Jan 22 09:11 - 09:11  (00:00)\nzac        ttys004                         Tue Jan 20 18:23 - 18:23  (00:00)\nzac        ttys004                         Tue Jan 20 18:08 - 18:08  (00:00)\nzac        ttys004                         Tue Jan 20 18:01 - 18:01  (00:00)\nzac        ttys002                         Tue Jan 20 11:29 - 11:29  (00:00)\nzac        ttys006                         Mon Jan 19 22:09 - 22:09  (00:00)\nzac        ttys004                         Mon Jan 19 22:05 - 22:05  (00:00)\nzac        ttys004                         Mon Jan 19 21:59 - 21:59  (00:00)\nzac        ttys006                         Mon Jan 19 10:25 - 10:25  (00:00)\nzac        ttys002                         Mon Jan 19 10:15 - 10:15  (00:00)\nzac        ttys005                         Mon Jan 19 10:03 - 10:03  (00:00)\nzac        ttys004                         Mon Jan 19 09:55 - 09:55  (00:00)\nzac        ttys003                         Mon Jan 19 07:07 - 07:07  (00:00)\nzac        ttys002                         Mon Jan 19 07:00 - 07:00  (00:00)\nzac        ttys009                         Sun Jan 18 17:11 - 17:11  (00:00)\nzac        ttys007                         Sun Jan 18 16:03 - 16:03  (00:00)\nzac        ttys007                         Sun Jan 18 13:50 - 13:50  (00:00)\nzac        ttys007                         Sun Jan 18 13:48 - 13:48  (00:00)\nzac        ttys008                         Sun Jan 18 12:44 - 12:44  (00:00)\nzac        ttys001                         Sun Jan 18 12:28 - 12:28  (00:00)\nzac        ttys003                         Sun Jan 18 12:18 - 12:18  (00:00)\nzac        ttys001                         Sun Jan 18 12:16 - 12:16  (00:00)\nzac        ttys003                         Sun Jan 18 12:13 - 12:13  (00:00)\nzac        ttys001                         Sun Jan 18 12:12 - 12:12  (00:00)\nzac        ttys003                         Sun Jan 18 10:59 - 10:59  (00:00)\nzac        ttys002                         Sun Jan 18 10:48 - 10:48  (00:00)\nzac        ttys001                         Sun Jan 18 10:29 - 10:29  (00:00)\nzac        ttys000                         Sun Jan 18 10:29 - 10:29  (00:00)\nzac        ttys000                         Sat Jan 17 15:32 - 15:32  (00:00)\nzac        ttys000                         Sat Jan 17 14:48 - 14:48  (00:00)\nzac        ttys001                         Sat Jan 17 14:44 - 14:44  (00:00)\nzac        ttys001                         Sat Jan 17 14:44 - 14:44  (00:00)\nzac        ttys001                         Sat Jan 17 14:44 - 14:44  (00:00)\nzac        ttys001                         Sat Jan 17 14:41 - 14:41  (00:00)\nzac        ttys000                         Sat Jan 17 14:39 - 14:39  (00:00)\nzac        console                         Sat Jan 17 14:38 - 10:34 (20+19:55)\nzac        console                         Sun Jan 11 01:18 - 14:38 (6+13:19)\nreboot time                                Sun Jan 11 01:17\nshutdown time                              Sun Jan 11 01:11\nroot       console                         Sun Jan 11 01:11 - shutdown  (00:00)\nzac        ttys000                         Fri Jan  9 10:09 - 10:09  (00:00)\nzac        console                         Mon Dec 29 17:28 - 01:11 (12+07:42)\nzac        ttys000                         Mon Dec 22 18:29 - 10:09 (17+15:39)\nzac        ttys001                         Thu Dec 18 20:42 - 20:42  (00:00)\nzac        ttys000                         Thu Dec 18 20:37 - 20:37  (00:00)\nzac        console                         Thu Dec 18 20:33 - 17:28 (10+20:54)\nzac        console                         Fri Dec  5 10:56 - 20:33 (13+09:37)\nzac        console                         Fri Nov 14 12:01 - 10:56 (20+22:55)\nreboot time                                Fri Nov 14 12:00\n\nwtmp begins Fri Nov 14 12:00:45 EST 2025 (--count), and  now read ~/.epistemic/witness.jsonl with deterministic newest-first ordering for query/last. Empty-ledger returns empty records/count=0 without refusal. Added structured refusals for ledger read errors (E_IO) and malformed JSONL lines (E_INVALID_SCHEMA with line number detail). Verified with cargo fmt/clippy/test plus manual HOME-isolated smoke generating witness entries and checking query/last/count outputs.","created_at":"2026-02-27T04:20:45Z"},{"id":90,"issue_id":"bd-awi","author":"Zac","text":"Completed implementation details: witness query subcommands now read ~/.epistemic/witness.jsonl and support query with optional limit, last with count, and count totals. Output ordering is deterministic (newest-first for query/last). Empty-ledger behavior returns empty records or zero count. Ledger read errors map to E_IO; malformed JSONL lines map to E_INVALID_SCHEMA with line context. Validated with cargo fmt, clippy -D warnings, cargo test, and manual smoke tests.","created_at":"2026-02-27T04:20:56Z"}]}
{"id":"bd-e5g","title":"PRM-PRO-0008: validate command","description":"Implement `profile validate <FILE>` schema validation command.\n\n## Acceptance Criteria\n- Valid profile exits 0; schema violations refuse with exit 2 and structured details.\n- Supports human and --json outputs.\n- Handles both draft and frozen profile forms correctly.\n\n## Notes\nSchema-only validation (no dataset checks).","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-02-25T04:25:01.119349Z","created_by":"zac","updated_at":"2026-02-27T04:05:25.621998Z","closed_at":"2026-02-27T04:05:25.621893Z","close_reason":"Already implemented and validated; restoring closed status","compaction_level":0,"original_size":0,"labels":["phase-1","profile","schema","validate"],"dependencies":[{"issue_id":"bd-e5g","depends_on_id":"bd-1r7","type":"blocks","created_at":"2026-02-25T04:25:02.166523Z","created_by":"zac"},{"issue_id":"bd-e5g","depends_on_id":"bd-er7","type":"blocks","created_at":"2026-02-25T04:25:02.123763Z","created_by":"zac"}],"comments":[{"id":7,"issue_id":"bd-e5g","author":"Zac","text":"PRM-0004 plan review: validate now checks frozen-profile invariants when status=frozen (profile_id, profile_version, profile_family, profile_sha256 all present and well-formed). Well-formed for profile_sha256 means sha256: prefix + 64 lowercase hex chars. Does NOT recompute the hash (that requires canonicalization and is a separate concern).","created_at":"2026-02-26T11:55:10Z"},{"id":31,"issue_id":"bd-e5g","author":"Zac","text":"RESERVATIONS: src/schema/validate.rs (extends existing from bd-er7). PHASE: 2 (after bd-2fp). Extends schema validation with command-level checks.","created_at":"2026-02-26T12:26:41Z"},{"id":49,"issue_id":"bd-e5g","author":"Zac","text":"PRM-0011 REVISION: Moved from phase-2 to phase-1. No longer depends on bd-2fp (envelope). Handler returns Result<Value, RefusalPayload>; output formatting is envelope beads job.","created_at":"2026-02-26T12:38:44Z"},{"id":78,"issue_id":"bd-e5g","author":"Zac","text":"Starting implementation in src/lint/validate.rs: read profile file, parse YAML, run schema validation (draft/frozen invariants), and return structured refusal payloads on IO/schema failures.","created_at":"2026-02-27T04:02:16Z"},{"id":80,"issue_id":"bd-e5g","author":"Zac","text":"Implemented src/lint/validate.rs command handler.\n\nBehavior:\n- Reads profile file from <FILE>\n- Parses YAML via parse_profile_yaml\n- Validates schema via validate_profile(ValidationMode::Validate)\n- Returns success payload {\"valid\": true}\n- IO and schema failures map to structured refusal payloads (exit 2)\n\nValidation:\n- cargo fmt --check passed\n- cargo check passed\n- smoke: validate valid draft fixture exits 0 with {\"valid\": true}\n- smoke: validate invalid fixture exits 2 with refusal [E_MISSING_FIELD]","created_at":"2026-02-27T04:03:11Z"}]}
{"id":"bd-er7","title":"PRM-PRO-0002: Profile schema model + parser","description":"Implement profile YAML schema models (draft + frozen) and serialization/parsing layer.\n\n## Acceptance Criteria\n- Typed structs for schema_version/status/format/key/include_columns/equivalence/hashing/profile_id/profile_sha256/frozen.\n- Draft and frozen validations enforce required fields and valid enums.\n- Canonical read/write path produces deterministic field ordering for downstream hashing.\n\n## Notes\nFoundation bead for validate/freeze/diff/show/list.","notes":"Follow-up: aligned schema model to PLAN by removing legacy frozen bool field, keeping status/profile_identity/hashing/equivalence/include_columns invariants. Canonical YAML helper excludes profile_sha256 and normalizes document marker/trailing newline. Validation now enforces frozen-only required identity fields and family/SHA format checks. Quality gate rerun clean.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-02-25T04:25:00.812681Z","created_by":"zac","updated_at":"2026-02-27T03:57:32.067628Z","closed_at":"2026-02-27T03:57:02.059017Z","close_reason":"All acceptance criteria completed: typed structs, draft/frozen validations, canonical read/write with deterministic field ordering. Schema foundation ready for Phase 1 implementations.","compaction_level":0,"original_size":0,"labels":["core","phase-0","profile","schema"],"comments":[{"id":3,"issue_id":"bd-er7","author":"Zac","text":"PRM-0004 plan review: profile_family must match ^[a-z][a-z0-9]*(\\.[a-z][a-z0-9_]*)*$ (lowercase dot-separated segments, each starting with letter, underscores allowed within segments). profile_sha256 value format is sha256:<64 lowercase hex chars>. include_columns must be non-empty for freeze; validate accepts empty [].","created_at":"2026-02-26T11:54:49Z"},{"id":19,"issue_id":"bd-er7","author":"Zac","text":"RESERVATIONS: src/schema/profile.rs, src/schema/validate.rs, src/schema/canonical.rs, src/schema/mod.rs. PHASE: 0 (no deps). Critical path, blocks 7 beads.","created_at":"2026-02-26T12:26:12Z"},{"id":69,"issue_id":"bd-er7","author":"Zac","text":"Picked next ready bead after scaffold: beginning schema model/parser implementation in src/schema/*.","created_at":"2026-02-27T03:54:12Z"},{"id":70,"issue_id":"bd-er7","author":"Zac","text":"Picked up after scaffold completion. Next: implement typed schema structs and deterministic canonical read/write in src/schema/{profile,validate,canonical}.rs.","created_at":"2026-02-27T03:54:25Z"},{"id":74,"issue_id":"bd-er7","author":"Zac","text":"Initial schema module work landed: split src/schema into profile.rs/validate.rs/canonical.rs, added typed profile structs/enums, basic parse+validation helpers (family/sha checks, frozen invariants), and canonical YAML + SHA256 helpers. Quality gate currently passes (fmt/clippy/test).","created_at":"2026-02-27T03:57:00Z"}]}
{"id":"bd-fhp","title":"PRM-PRO-0007: draft init implementation","description":"Implement `profile draft init <DATASET>` header-driven draft generation for CSV.\n\n## Acceptance Criteria\n- include_columns populated from dataset header in file order.\n- `--key <COLUMN>` sets explicit key; `--key auto` uses top suggest-key candidate.\n- Draft defaults include float_decimals=6 and trim_strings=true; order/hashing omitted until freeze.\n\n## Notes\nDepends on CSV parsing and suggest-key behavior for auto mode.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-02-25T04:25:01.067851Z","created_by":"zac","updated_at":"2026-02-27T04:07:16.898075Z","closed_at":"2026-02-27T04:07:16.897274Z","close_reason":"Completed draft init header-driven generation with auto key selection","compaction_level":0,"original_size":0,"labels":["csv","draft","phase-2","profile"],"dependencies":[{"issue_id":"bd-fhp","depends_on_id":"bd-1r7","type":"blocks","created_at":"2026-02-25T04:43:46.670188Z","created_by":"zac"},{"issue_id":"bd-fhp","depends_on_id":"bd-2np","type":"blocks","created_at":"2026-02-25T04:25:02.077033Z","created_by":"zac"},{"issue_id":"bd-fhp","depends_on_id":"bd-er7","type":"blocks","created_at":"2026-02-25T04:25:02.031534Z","created_by":"zac"},{"issue_id":"bd-fhp","depends_on_id":"bd-qzc","type":"blocks","created_at":"2026-02-25T04:25:01.985212Z","created_by":"zac"}],"comments":[{"id":5,"issue_id":"bd-fhp","author":"Zac","text":"PRM-0004 plan review: --key auto requires parsing full dataset (all rows) for suggest-key computation, not just header. E_EMPTY if no data rows when --key auto. Prints output path to stdout after writing.","created_at":"2026-02-26T11:54:59Z"},{"id":37,"issue_id":"bd-fhp","author":"Zac","text":"RESERVATIONS: src/draft/init.rs. Appends to src/draft/mod.rs (created by bd-2p5). PHASE: 3 (after bd-2np). Uses suggest-key internally for --key auto.","created_at":"2026-02-26T12:26:51Z"},{"id":56,"issue_id":"bd-fhp","author":"Zac","text":"PRM-0011 REVISION: Moved from phase-3 to phase-2. RESERVATIONS: src/draft/init.rs only (mod.rs pre-created by scaffold).","created_at":"2026-02-26T12:38:54Z"},{"id":83,"issue_id":"bd-fhp","author":"Zac","text":"Implemented src/draft/init.rs: reads CSV header into include_columns (header order), supports --key <COLUMN>, and --key auto by invoking suggest-key top candidate (viable-only; warns and uses key=[] when no viable candidate). Applies draft defaults (float_decimals=6, trim_strings=true; omits hashing/order), writes deterministic YAML to --out, and maps E_IO/E_CSV_PARSE/E_EMPTY refusals. Verified with cargo fmt/clippy/test and manual CLI smoke for explicit+auto key flows.","created_at":"2026-02-27T04:07:16Z"}]}
{"id":"bd-qei","title":"PRM-PRO-0022: CI quality gates + test matrix","description":"Establish CI baseline comparable to rvl standards for build correctness and regression safety.\n\n## Acceptance Criteria\n- CI runs formatting/lint/type checks and test suite on pull_request and push to main.\n- Matrix dimensions (OS/toolchain) are explicit and intentionally scoped for runtime budget.\n- Failing jobs print local reproduction commands in logs or job summary.\n\n## Notes\nKeep runtime bounded; avoid excessive matrix fan-out for early-stage repo.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-25T04:38:11.659272Z","created_by":"zac","updated_at":"2026-02-27T03:53:45.124312Z","closed_at":"2026-02-27T03:53:45.124217Z","close_reason":"Added CI quality-gate workflow with explicit bounded matrix, required checks, and failure repro guidance per PRM-PRO-0022.","compaction_level":0,"original_size":0,"labels":["ci","phase-0","profile","tests"],"comments":[{"id":23,"issue_id":"bd-qei","author":"Zac","text":"RESERVATIONS: .github/workflows/ci.yml. PHASE: 0 (no deps). Independent of code beads.","created_at":"2026-02-26T12:26:16Z"},{"id":66,"issue_id":"bd-qei","author":"Zac","text":"Starting implementation: add .github/workflows/ci.yml with explicit matrix (bounded runtime), fmt+clippy+test gates on push main + pull_request, and failure reproduction guidance in summary/logs.","created_at":"2026-02-27T03:52:55Z"},{"id":68,"issue_id":"bd-qei","author":"Zac","text":"Implemented .github/workflows/ci.yml: triggers on push(main)+pull_request(main), explicit bounded matrix (os=ubuntu-latest, toolchain=stable), and full quality gate (cargo fmt --check, cargo check, cargo clippy --all-targets -- -D warnings, cargo test). Added failure step that prints local reproduction commands to logs and GITHUB_STEP_SUMMARY.","created_at":"2026-02-27T03:53:45Z"}]}
{"id":"bd-qzc","title":"PRM-PRO-0001: Scaffold crate + CLI surface","description":"Build crate skeleton, full CLI surface, and module stubs for parallel development.\n\n## Acceptance Criteria\n- src/main.rs + src/lib.rs present with run() -> u8 exit mapping.\n- CLI command tree includes draft/validate/lint/stats/suggest-key/freeze/list/show/diff/witness.\n- Global flags wire-up: --describe, --schema (stub allowed), --version, --no-witness.\n- command field is Option<Command> so --describe and --version work without a subcommand.\n- Step 4 in execution flow: if command is None and no early-exit flag matched, exit 2.\n- lib.rs has FULL dispatch match block calling subcommand handler stubs in each module.\n- Cargo.toml includes ALL prod deps (clap, serde, serde_yaml, serde_json, csv, sha2, blake3, chrono) AND dev deps (assert_cmd, predicates, tempfile).\n- Creates module directories and mod.rs files with re-exports for: draft/, freeze/, lint/, stats/, resolve/, diff/, output/, witness/. Each mod.rs declares all planned submodules.\n- Creates placeholder .rs files with todo!() function stubs for all subcommand handlers (e.g. draft/new.rs, stats/stats.rs, etc.). Does NOT create stubs for src/schema/ or src/refusal/ (owned by bd-er7 and bd-1r7).\n- Subcommand handler stubs return Result<serde_json::Value, RefusalPayload> (the decoupled output interface).\n- cargo check passes after ALL Phase 0 beads complete (scaffold + schema model + refusal codes).\n\n## Notes\nThe scaffold creates the dispatch skeleton so that subsequent beads only edit their own .rs files — no bead touches lib.rs or any mod.rs after this. This eliminates all file contention for parallel agents.","acceptance_criteria":"src/main.rs + src/lib.rs present with run() -> u8 exit mapping.\nCLI command tree includes draft/validate/lint/stats/suggest-key/freeze/list/show/diff/witness.\nGlobal flags wire-up: --describe, --schema (stub allowed), --version, --no-witness.\ncommand field is Option<Command> so --describe and --version work without a subcommand.\nStep 4 in execution flow: if command is None and no early-exit flag matched, exit 2.","notes":"Scaffolded crate and CLI surface with Option<Command>, global --json/--describe/--schema/--no-witness, full dispatch in src/lib.rs, and module stubs for draft/freeze/lint/stats/resolve/diff/output/witness. Verified with cargo check, cargo fmt --check, cargo test, and cargo clippy --all-targets -- -D warnings.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-25T04:25:00.764202Z","created_by":"zac","updated_at":"2026-02-27T03:53:29.250317Z","closed_at":"2026-02-27T03:53:09.246145Z","close_reason":"Scaffold complete - cargo check passes with all CLI surface, module stubs, dispatch, and operator.json","compaction_level":0,"original_size":0,"labels":["cli","core","phase-0","profile"],"comments":[{"id":1,"issue_id":"bd-qzc","author":"Zac","text":"PRM-0004 plan review: command field in Cli struct is now Option<Command> so profile --describe and profile --version work without a subcommand. Execution flow adds step 4: if command is None after early-exit flags, exit 2.","created_at":"2026-02-26T11:54:27Z"},{"id":18,"issue_id":"bd-qzc","author":"Zac","text":"RESERVATIONS: src/main.rs, src/lib.rs, src/cli/args.rs, src/cli/exit.rs, src/cli/mod.rs, Cargo.toml. PHASE: 0 (no deps). Critical path, blocks 10 beads.","created_at":"2026-02-26T12:26:12Z"},{"id":47,"issue_id":"bd-qzc","author":"Zac","text":"PRM-0011 REVISION: Expanded scope to create ALL module stubs (draft/, freeze/, lint/, stats/, resolve/, diff/, output/, witness/). Full dispatch in lib.rs. Does NOT create src/schema/ or src/refusal/ (owned by bd-er7, bd-1r7). Subcommand handlers return Result<Value, RefusalPayload> via decoupled output interface. RESERVATIONS: src/main.rs, src/lib.rs, src/cli/*, Cargo.toml + creates stubs for all other modules.","created_at":"2026-02-26T12:38:44Z"},{"id":67,"issue_id":"bd-qzc","author":"Zac","text":"Scaffold now compiles with full CLI + dispatch stubs; wired draft/validate/lint/stats/suggest-key/freeze/list/show/diff/witness, Option<Command> no-subcommand -> exit 2, and global flags --describe/--schema/--version/--no-witness. Ran cargo fmt, cargo clippy --all-targets -- -D warnings, and cargo test (all passing).","created_at":"2026-02-27T03:53:29Z"}]}
{"id":"bd-uwq","title":"PRM-PRO-0011: list/show resolution","description":"Implement profile resolution + `list` + `show` commands for v0.1.\n\n## Acceptance Criteria\n- Resolution order supports file path first, then profile-id search in `~/.epistemic/profiles/` (v0.1 scope).\n- `list` returns deterministic ordering; `show` renders resolved profile (human + --json).\n- Missing profiles return structured refusal.\n\n## Notes\nBuilt-ins and `EPISTEMIC_PROFILE_PATH` are explicitly deferred in v0.1.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-02-25T04:25:01.275739Z","created_by":"zac","updated_at":"2026-02-27T04:14:20.721677Z","closed_at":"2026-02-27T04:14:20.721480Z","close_reason":"Completed profile resolution + deterministic list/show for ~/.epistemic/profiles","compaction_level":0,"original_size":0,"labels":["cli","phase-1","profile","resolution"],"dependencies":[{"issue_id":"bd-uwq","depends_on_id":"bd-1r7","type":"blocks","created_at":"2026-02-25T04:43:46.718559Z","created_by":"zac"},{"issue_id":"bd-uwq","depends_on_id":"bd-er7","type":"blocks","created_at":"2026-02-25T04:25:02.444044Z","created_by":"zac"},{"issue_id":"bd-uwq","depends_on_id":"bd-qzc","type":"blocks","created_at":"2026-02-25T04:25:02.399068Z","created_by":"zac"}],"comments":[{"id":10,"issue_id":"bd-uwq","author":"Zac","text":"PRM-0004 plan review: list sort order now specified — sort by profile_family (lexicographic), then profile_version (numeric ascending). Filename convention: frozen profiles stored as <profile_id>.yaml. list scans *.yaml files and parses profile_id field. show resolves by matching profile_id field in scanned files (not filename alone).","created_at":"2026-02-26T11:55:27Z"},{"id":33,"issue_id":"bd-uwq","author":"Zac","text":"RESERVATIONS: src/resolve/resolver.rs, src/resolve/list.rs, src/resolve/mod.rs. PHASE: 2 (after bd-2fp). Creates resolve module.","created_at":"2026-02-26T12:26:42Z"},{"id":51,"issue_id":"bd-uwq","author":"Zac","text":"PRM-0011 REVISION: Moved from phase-2 to phase-1. No longer depends on bd-2fp (envelope).","created_at":"2026-02-26T12:38:44Z"},{"id":86,"issue_id":"bd-uwq","author":"Zac","text":"Implemented v0.1 resolver/list/show: added src/resolve/resolver.rs path-first resolution (existing file path, else profile_id scan in ~/.epistemic/profiles), frozen-profile scanning for *.yaml with schema validation, deterministic list ordering (profile_family asc, profile_version asc, path tiebreak), and structured missing-profile refusal. Wired src/resolve/list.rs and src/resolve/show.rs to emit resolved profile/path payloads. Verified with cargo fmt/clippy/test and manual HOME-isolated list/show smoke tests (found/missing cases).","created_at":"2026-02-27T04:14:20Z"}]}
{"id":"bd-xnw","title":"PRM-PRO-0013: operator manifest + --describe","description":"Implement operator manifest and `--describe` command path.\n\n## Acceptance Criteria\n- Embedded operator.json reflects profile command capabilities/exit/refusal map.\n- `--describe` prints manifest and exits 0 before input validation.\n- Manifest fields align with docs/PLAN.md operator section.\n\n## Notes\nNon-goal: network push/pull manifest details beyond v0.1.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-25T04:25:01.378425Z","created_by":"zac","updated_at":"2026-02-27T03:58:49.052707Z","closed_at":"2026-02-27T03:58:49.052542Z","close_reason":"Operator manifest + --describe complete - reads operator.json and outputs in both human and JSON envelope modes","compaction_level":0,"original_size":0,"labels":["docs","operator","phase-1","profile"],"dependencies":[{"issue_id":"bd-xnw","depends_on_id":"bd-qzc","type":"blocks","created_at":"2026-02-25T04:25:02.539657Z","created_by":"zac"}],"comments":[{"id":29,"issue_id":"bd-xnw","author":"Zac","text":"RESERVATIONS: operator.json (embedded resource), minor touch src/cli/args.rs (describe path). PHASE: 1 (after bd-qzc). Wait for scaffold to finish before touching args.rs.","created_at":"2026-02-26T12:26:28Z"}]}
